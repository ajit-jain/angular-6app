<div id="dashboard" *ngIf="_userService.user['email']">
    <div class="outer" style="padding:30px">
    <div id="leftDiv" class="text-center">
      <button type="button" class="btn1" (click)="setMonthFilter()">This Month</button>

    </div>
    <div id="rightDiv">
      <!-- <button type="button" class="btn1">Custom</button> -->
      <button type="button" class="btn1" (click)="initializeCalender()" data-toggle="modal" data-target="#customDate">
        {{selectedDates.length > 0 ? (mt(selectedDates[0]).format('MMM DD')  + ' - ' + mt(selectedDates[selectedDates.length-1]).format('MMM DD')) : 'Custom'}}
      </button>

      <!-- Modal -->
      <div id="customDate" class="modal fade" role="dialog">
        <div class="modal-dialog">


          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header outer">
              <button type="button" class="close" style="position: absolute;top: 18px;right: 30px;z-index:99999999" data-dismiss="modal">&times;</button>
              <div style="width: 30%;
              position: relative;
              float: left;
              margin: 0;
              padding: 15px;"><a style="position: absolute;
              bottom: 1px;
              left: 30px;">clear</a></div>
              <h4 class="modal-title" style="width: 70%;
              position: relative;
              float: left;
              margin: 0;
              padding: 15px;">{{mt(selectedDates[0]).format('MMM DD') }} - {{ (selectedDates.length >1)? mt(selectedDates[selectedDates.length-1]).format('MMM DD') : 'End Date'}}</h4>
              
            </div>
            <div class="modal-body">

              <igx-calendar #calendar selection="range" (onSelection)="verifyRange($event)"></igx-calendar>
            </div>
            <div class="modal-footer" style="margin:0;padding:0">
              <button type="button" class="btn btn-default"
              style="position: relative;
              float: left;
              width: 100%;" data-dismiss="modal" (click)="getDates(selectedDates)">Done</button>
            </div>
          </div>


        </div>
      </div>

    </div>
    </div>
    <div class="outer"  style="background-color:#F7F7F7;padding: 20px 20px 0 60px;">
    <p class="heading"> Total expenses</p>
    <h2 style="margin:0">${{expenses?.total_expenses}}</h2>
    <p style="padding:10px 0 0px 27px;" [hidden]="!expenses['debitor']"> {{ expenses.debitor }} ownes {{ expenses.creditor }} $ {{ expenses.amountLeft}}</p>
    <p style="padding:10px 0 0px 27px;" [hidden]="expenses['debitor']">  nothing to settle down </p>
    
  </div>
  
  <div class="outer"  id="payments" style="padding:10px">
    <div class="outer" *ngFor="let payment of payments;let i=index">
      <div style="float:left;">
        <p>{{ mt(payment.time).format('MMM DD')}}</p>
        <p>{{ payment.label}}</p>
        <p>Paid by {{ payment.paidBy}}</p>
      </div>
      <div style="float:right;">
        <p style="text-align:right">
          <label style="padding: 10px;font-size: 15px;font-family:Montserrat;">${{payment.totalAmount}}</label>
          <a data-toggle="collapse" [id]="'parent_'+payment.id" [href]="'#collapse_'+payment.id" (click)="toggleIcon($event,'icon_'+payment.id)"
            role="button" aria-expanded="false">
            <i [id]="'icon_'+payment.id" class="fas fa-caret-down" style="font-size:12px"></i>
          </a>
        </p>
        <div class="collapse" [id]="'collapse_'+payment.id">
          <p>{{payment.split[0].email}}:${{payment.split[0].amount}}</p>
          <p></p>
          <p>{{payment.split[1].email}}:${{payment.split[1].amount}}</p>
        </div>
      </div>
      <br style="clear: both" />
      <hr *ngIf="!(i==(payments.length-1))">
    </div>
  </div>

</div>
